<svrunit setupTime="7">

    <testsuites>

        <testsuite name="Defaults + Core Checks" group="core" dockerImage="dockware/flex:dev-main">
            <directory>./tests/core</directory>
            <directory>./tests/node/v22</directory>
            <directory>./tests/php/php8.4</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-off</directory>
        </testsuite>

        <!-- FEATURES -->
        <testsuite name="Recovery Mode works" group="core" dockerImage="dockware/flex:dev-main" dockerEnv="RECOVERY_MODE=1">
            <directory>./tests/features/recovery-mode</directory>
        </testsuite>

        <testsuite name="Tideways ON" dockerImage="dockware/flex:dev-main" dockerEnv="TIDEWAYS_KEY=abc">
            <directory>./tests/tools/tideways/tideways-on</directory>
        </testsuite>

        <testsuite name="XDebug OFF" dockerImage="dockware/flex:dev-main" dockerEnv="XDEBUG_ENABLED=0">
            <directory>./tests/tools/xdebug/xdebug-off</directory>
        </testsuite>

        <testsuite name="flex:dev-main, Command Runner" group="command-runner" dockerImage="dockware/flex:dev-main" dockerCommandRunner="true">
            <directory>./tests/features/command-runner</directory>
        </testsuite>

        <!-- NODE -->

        <testsuite name="ENV - Node Version Switch to 22" dockerImage="dockware/flex:dev-main" dockerEnv="NODE_VERSION=22">
            <directory>./tests/node/v22</directory>
        </testsuite>

        <testsuite name="ENV - Node Version Switch to 20" dockerImage="dockware/flex:dev-main" dockerEnv="NODE_VERSION=20">
            <directory>./tests/node/v20</directory>
        </testsuite>


        <!-- PHP -->

        <testsuite name="PHP 8.4, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=8.4,XDEBUG_ENABLED=1">
            <directory>./tests/php/php8.4</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

        <testsuite name="PHP 8.3, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=8.3,XDEBUG_ENABLED=1">
            <directory>./tests/php/php8.3</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

        <testsuite name="PHP 8.2, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=8.2,XDEBUG_ENABLED=1">
            <directory>./tests/php/php8.2</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

        <testsuite name="PHP 8.1, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=8.1,XDEBUG_ENABLED=1">
            <directory>./tests/php/php8.1</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

        <testsuite name="PHP 8.0, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=8.0,XDEBUG_ENABLED=1">
            <directory>./tests/php/php8.0</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

        <testsuite name="PHP 7.4, XDebug ON" dockerImage="dockware/flex:dev-main" dockerEnv="PHP_VERSION=7.4,XDEBUG_ENABLED=1">
            <directory>./tests/php/php7.4</directory>
            <directory>./tests/tools/xdebug/xdebug3</directory>
            <directory>./tests/tools/composer/v2</directory>
            <directory>./tests/tools/xdebug/xdebug-on</directory>
            <directory>./tests/tools/tideways/config</directory>
        </testsuite>

    </testsuites>

</svrunit>